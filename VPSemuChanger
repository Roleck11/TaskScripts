---loadstring(game:HttpGet("https://raw.githubusercontent.com/Roleck11/TaskScripts/main/RoloxBotV2"))()
--loadstring(game:HttpGet("https://raw.githubusercontent.com/Roleck11/SchoolScripts/main/NewBeta"))();
----- INTRO SCRIPT ----------
if not game:IsLoaded() then
    while not game:IsLoaded() do wait(1) end
end

loadstring(game:HttpGet("https://raw.githubusercontent.com/Roleck11/MainScripts/main/AdoptMeIntroCheck"))()

local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Frame_2 = Instance.new("Frame")
local TextLabel = Instance.new("TextLabel")

--Properties:

ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.Name = "RoloxBotOverlay"
ScreenGui.Enabled = false

Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderSizePixel = 0
Frame.Position = UDim2.new(0, 0, 0, -70)
Frame.Size = UDim2.new(1, 0, 1, 70)

Frame_2.Parent = Frame
Frame_2.AnchorPoint = Vector2.new(0.5, 0.5)
Frame_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Frame_2.BackgroundTransparency = 1.000
Frame_2.BorderColor3 = Color3.fromRGB(0, 0, 0)
Frame_2.BorderSizePixel = 0
Frame_2.Position = UDim2.new(0.5, 0, 0.5, 0)
Frame_2.Size = UDim2.new(0.75, 0, 0, 750)

TextLabel.Parent = Frame_2
TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.BackgroundTransparency = 1.000
TextLabel.BorderColor3 = Color3.fromRGB(0, 0, 0)
TextLabel.BorderSizePixel = 0
TextLabel.Size = UDim2.new(1, 0, 1, 0)
TextLabel.Font = Enum.Font.GothamBold
TextLabel.Text = "a"
TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.TextSize = 30.000
TextLabel.RichText = true

function disp_time(time)
    local days = math.floor(time/86400)
    local hours = math.floor(math.fmod(time, 86400)/3600)
    local minutes = math.floor(math.fmod(time,3600)/60)
    local seconds = math.floor(math.fmod(time,60))
    print("Time : ", string.format("%d:%02d:%02d:%02d",days,hours,minutes,seconds))
    return string.format("%d:%02d:%02d:%02d",days,hours,minutes,seconds)
end

game:GetService("UserInputService").InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.Q then
        if ScreenGui.Enabled == false then
            ScreenGui.Enabled = true
        else
            ScreenGui.Enabled = false
        end
    end
end)

_G.Status = "Idle"

function SetStatus()
    if not TimeA then
        TimeA = 1
    else
        TimeA = TimeA + 1
    end
    Potions = tostring((function() local t={} for i,v in pairs(require(game.ReplicatedStorage.ClientModules.Core.ClientData).get_data()[game.Players.LocalPlayer.Name].inventory.food)do if v.id=="pet_age_potion"then table.insert(t,i)end end return #t end)())
    EventCurrency = game:GetService("Players").LocalPlayer.PlayerGui:WaitForChild("AltCurrencyIndicatorApp").CurrencyIndicator.Container.Amount.Text
    Bucks = game:GetService("Players").LocalPlayer.PlayerGui:WaitForChild("BucksIndicatorApp").CurrencyIndicator.Container.Amount.Text

    TextLabel.Text = [[<font color="rgb(255,180,180)">]]..game.Players.LocalPlayer.Name..[[</font> - RoloxBot
    Status: <font color="rgb(187, 166, 255)"> ]].._G.Status..[[ </font>
    Potions: <font color="rgb(252, 207, 71)">]]..Potions..[[</font>
    Bucks: <font color="rgb(0, 191, 41)">]]..Bucks..[[</font>
    Event Currency: <font color="rgb(237, 63, 14)">]]..EventCurrency..[[</font>
    Total Time: <font color="rgb(137, 41, 255)">]]..disp_time(TimeA)..[[</font>

    <font color="rgb(130, 255, 228)">Press Q to toggle</font>
    ]]
end

SetStatus()
ScreenGui.Enabled = true

spawn(function()
while true do
    SetStatus()
    wait(1)
end
end)

print(" === Executed Roleck Minigame Script - Earning New Currency ===")

---------- Extra GUI Control and Buttons and IMAGES blah blah -------------
game:GetService("Players").LocalPlayer.PlayerGui.DialogApp.Enabled = false
game:GetService("Players").LocalPlayer.PlayerGui.InteractionsApp.Enabled = false
game:GetService("Players").LocalPlayer.PlayerGui.NavigatorApp.Enabled = false

------------ MAIN MINIGAME SCRIPT -------------
local get_thread_identity = get_thread_context or getthreadcontext or getidentity or syn.get_thread_identity
local set_thread_identity = set_thread_context or setthreadcontext or setidentity or syn.set_thread_identity
local Location = nil
local Player = game.Players.LocalPlayer
local Fsys = require(game.ReplicatedStorage:WaitForChild("Fsys")).load

for i, v in pairs(debug.getupvalue(require(game:GetService("ReplicatedStorage").Fsys).load("RouterClient").init, 4)) do
    v.Name = i
end


function PlayMinigame()
    ------ PLAY MINIGAME CODE
    print("Minigame Started")
    while GameStatus() and wait(0.1) do
        game:GetService("ReplicatedStorage").API["MinigameAPI/MessageServer"]:FireServer("egg_catch_minigame", "candy_collected", 3)
        wait()
        game:GetService("ReplicatedStorage").API["MinigameAPI/MessageServer"]:FireServer("egg_catch_minigame", "candy_collected", 2)
        wait()
        game:GetService("ReplicatedStorage").API["MinigameAPI/MessageServer"]:FireServer("egg_catch_minigame", "candy_collected", 1)
        wait()
    end
    print("GameStatus Over")
end

-------- *** GameStatus
function GameStatus()
    return workspace.StaticMap.egg_catch_minigame_minigame_state.is_game_active.Value
end

for i, v in pairs(getgc()) do
    if type(v) == "function" then
        if getfenv(v).script == game.ReplicatedStorage.ClientModules.Core.InteriorsM.InteriorsM then
            if table.find(getconstants(v), "LocationAPI/SetLocation") then
                Location = v
                break
            end
        end
    end
end
local SetLocation = function(A, B, C)
    local O = get_thread_identity()
    set_thread_identity(2)
    Location(A, B, C)
    set_thread_identity(O)
end

-------- *** GoToMinigame | PlaceName
local GoToMinigameLunar = function()
    game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored = true
    SetLocation("Easter2024Shop", "MainDoor", {})
    wait(2)
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(workspace.Interiors.Easter2024Shop.Minigame.JoinZone.WorldPivot.Position)
    game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored = false
end

-------- *** Get Lobby, check Interiors
function GetLobby()
    for i, v in pairs(workspace.Interiors:GetChildren()) do
        if tostring(v) == "Easter2024Shop" then
            return true
        end
    end
    return false
end

---- Auto Claim Quests
spawn(function()
    while true do
        wait(60)
        for i, v in pairs(Fsys("ClientData").get("quest_manager")["quests_cached"]) do
            if v["steps_completed"] >= 1 then
                Fsys("RouterClient").get("QuestAPI/ClaimQuest"):InvokeServer(v["unique_id"])
                task.wait()
            end
        end
    end
end)

while true do
    pcall(function()
        if GetLobby() == true then
            if (workspace.Interiors.Easter2024Shop.Minigame.JoinZone.WorldPivot.Position and (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - workspace.Interiors.Easter2024Shop.Minigame.JoinZone.WorldPivot.Position).magnitude < 20) then
                _G.Status = "Waiting for Minigame..."
            elseif GameStatus() == true then
                _G.Status = "Playing Minigame..."
                PlayMinigame()
            else
                if GetLobby() == true then
                    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(workspace.Interiors.Easter2024Shop.Minigame.JoinZone.WorldPivot.Position)
                else
                    _G.Status = "Teleporting to Minigame..."
                    GoToMinigameLunar()
                end
            end
        else
            _G.Status = "Teleporting to Minigame..."
            GoToMinigameLunar()
        end
    end)
    wait(2)
end
